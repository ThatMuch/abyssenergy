/**
 * Styles pour les formulaires Gravity Forms
 *
 * Ce fichier contient des styles spécifiques pour personnaliser l'apparence des formulaires Gravity Forms.
 * L'approche utilisée ici permet de remplacer les styles par défaut de Gravity Forms sans utiliser !important.
 */

@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as *;

/* Réinitialisation des styles Gravity Forms */
.gform_wrapper.gravity-theme {
  // Réinitialisation de l'espacement
  margin: 0;

  // Permettre à nos styles d'espacement de fonctionner
  .gform_fields {
    grid-row-gap: 1.5rem;
  }

  // Style des labels
  .gfield_label {
    font-family: $font-main;
    font-weight: 600;
    font-size: 1rem;
    margin-bottom: 0.5rem;
    color: $color-text-primary;
  }

  // Suppression des styles par défaut des champs
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]),
  textarea,
  select {
    appearance: none;
    background-color: transparent;
  }

  // Style du conteneur de champ
  .gfield {
    margin-bottom: 1.5rem;
  }

  // Style des messages de validation
  .gfield_validation_message,
  .validation_message {
    color: $color-danger;
    font-size: 0.875rem;
    font-weight: 500;
    padding: 0.5rem 0 0;
    background: transparent;
    border: none;
  }
}

/* Mise en page personnalisée */
.gform_wrapper.gform-theme form {
  display: flex;
  flex-direction: column;

  .gform_footer {
    margin-top: 1.5rem;
    padding: 0;

    input[type="submit"] {
      margin-bottom: 0;
    }
  }
}

.gform-theme--foundation .gform_validation_container,
#field_3_25 {
  display: none !important;
}

#field_3_29 {
  display: none !important;
}

/* Styles pour l'état de loading du formulaire */
.gform_wrapper.gform-theme {
  // Container du spinner pour le bouton submit
  .gform_footer {
    position: relative;
    display: flex;
    align-items: center;
    gap: 1rem;

    .submit-spinner {
      display: inline;
      align-items: center;

      .spinner {
        width: 16px;
        height: 16px;
        border-width: 2px;
      }
    }
  }

  // Style du bouton en état de soumission
  input[type="submit"],
  button[type="submit"] {
    &.submitting {
      opacity: 0.7;
      cursor: not-allowed;
      position: relative;
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      pointer-events: none;
    }
  }
}

.validation_message {
  color: $secondary-500;
  font-weight: 500;
}

.gform_submission_error .hide_summary {
  color: $secondary-500;
  font-weight: 500;
  font-size: 0.875rem;
  color: $secondary-500;
  font-weight: 500;
}

.ui-datepicker {
  background: $white-100;
  border-radius: $border-radius-xl;
  padding: 1rem;
  @include box-shadow();

  .ui-datepicker-header {
    align-items: stretch;
    display: flex;
    margin-block: unset;
    margin-inline: unset;
    padding-block: 0;
    padding-inline: 0;
    position: unset;
    gap: 0.5rem;
  }

  .ui-datepicker-next,
  .ui-datepicker-prev {
    align-items: center;
    block-size: auto;
    cursor: pointer;
    display: flex;
    flex: none;
    inline-size: var(--gf-ctrl-date-picker-header-icons-width);
    inset: unset;
    justify-content: center;
    position: relative;

    &:before {
      font-family: "FontAwesome" !important;
      font-style: normal;
      font-variant: normal;
      font-weight: 400;
      line-height: 1;
      speak: never;
      text-transform: none;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      background-image: none;
      border: none;
      inset: unset;
      transform: unset;
      font-size: 20px;
    }

    span {
      display: block;
      inset-block-start: 50%;
      inset-inline-start: 50%;
      margin-block-start: -8px;
      margin-inline-start: -8px;
      position: absolute;
      visibility: hidden;
    }
  }

  .ui-datepicker-next {
    order: 1;

    &:before {
      content: "\f061";
    }
  }

  .ui-datepicker-prev {
    inset-inline-start: 2px;

    &:before {
      content: "\f060";
    }
  }

  .ui-datepicker-title {
    display: flex;
    gap: 0.5rem;
    select {
      margin-bottom: 0.5rem;
    }
  }

  .ui-datepicker-calendar {
    width: 100%;
  }
  .ui-state-disabled .ui-state-default {
    color: $neutral-400;
  }

  .ui-state-default {
    border-radius: 4px;
    width: 100%;
    height: 2rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .ui-state-highlight {
    background-color: $primary-100;
    color: $color-primary;
  }
}
