/**
 * Styles pour les formulaires Gravity Forms
 *
 * Ce fichier contient des styles spécifiques pour personnaliser l'apparence des formulaires Gravity Forms.
 * L'approche utilisée ici permet de remplacer les styles par défaut de Gravity Forms sans utiliser !important.
 */

@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as *;

/* Réinitialisation des styles Gravity Forms */
.gform_wrapper.gravity-theme {
  // Réinitialisation de l'espacement
  margin: 0;

  // Permettre à nos styles d'espacement de fonctionner
  .gform_fields {
    grid-row-gap: 1.5rem;
  }

  // Style des labels
  .gfield_label {
    font-family: $font-main;
    font-weight: 600;
    font-size: 1rem;
    margin-bottom: 0.5rem;
    color: $color-text-primary;
  }

  // Suppression des styles par défaut des champs
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]),
  textarea,
  select {
    appearance: none;
    background-color: transparent;
  }

  // Style du conteneur de champ
  .gfield {
    margin-bottom: 1.5rem;
  }

  // Style des messages de validation
  .gfield_validation_message,
  .validation_message {
    color: $color-danger;
    font-size: 0.875rem;
    font-weight: 500;
    padding: 0.5rem 0 0;
    background: transparent;
    border: none;
  }
}

/* Mise en page personnalisée */
.gform_wrapper.gform-theme form {
  display: flex;
  flex-direction: column;

  .gform_footer {
    margin-top: 1.5rem;
    padding: 0;

    input[type="submit"] {
      margin-bottom: 0;
    }
  }
}

.gform-theme--foundation .gform_validation_container,
#field_3_25 {
  display: none !important;
}

/* Styles pour l'état de loading du formulaire */
.gform_wrapper.gform-theme {
  // Container du spinner pour le bouton submit
  .gform_footer {
    position: relative;
    display: flex;
    align-items: center;
    gap: 1rem;

    .submit-spinner {
      display: inline;
      align-items: center;

      .spinner {
        width: 16px;
        height: 16px;
        border-width: 2px;
      }
    }
  }

  // Style du bouton en état de soumission
  input[type="submit"],
  button[type="submit"] {
    &.submitting {
      opacity: 0.7;
      cursor: not-allowed;
      position: relative;
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      pointer-events: none;
    }
  }
}
